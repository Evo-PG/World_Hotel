{% extends 'radical.html' %}
{% load static %}

{% block contend %}
<div class="page-heading">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 offset-lg-2 header-text">
        <h2>Discover what's currently going on at <em>SnapX</em></h2>
        <p>When you need Free CSS Templates, you just remember our website TemplateMo. We provide you best quality website templates at absolutely free of charge. No hidden cost involved.</p>
      </div>
    </div>
  </div>
</div>

<div class="search-form">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <form id="search-form" name="gs" method="get" role="search" action=".">
          {% csrf_token %}
          <div class="row">
            {{ tours.form.as_p }}
            <div class="col-lg-2">
              <fieldset>
                <button class="main-button">Search Now</button>
              </fieldset>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<section class="photos-videos">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="section-heading text-center">
          <h6>Photos &amp; Videos At SnapX</h6>
          <h4>Our Featured <em>Photos &amp; Videos</em> At SnapX</h4>
        </div>
      </div>

      <!-- Card display loop -->
      {% for tour in page_obj %}
        <div class="col-lg-4 col-md-6">
          <a href="{% url 'ditail' tour.id %}">
            <div class="card mb-4">
              <img src="{{ tour.cover.url }}" class="card-img-top" alt="Tour Image">
              <div class="card-body">
                <h5 class="card-title">{{ tour.title }}</h5>
                <p class="card-text">
                  <strong>Цена:</strong> {{ tour.prise }} сом<br>
                  <strong>Категория:</strong> {{ tour.category }}<br>
                  <strong>Дата добавления:</strong> {{ tour.create_date }}
                </p>
              </div>
              <div class="card-footer text-center">
                <span><i class="fa fa-heart"></i> {{ tour.tour_like.count }}</span>
              </div>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<div class="pagination">
  <span class="step-links">
    {% if page_obj.has_previous %}
      <a href="?page=1">&laquo; first</a>
      <a href="?page={{ page_obj.previous_page_number }}">previous</a>
    {% endif %}

    <span class="current">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
    </span>

    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}">next</a>
      <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
<br>
<br>
<br>
<br>
<br>
<br>

{% endblock %}
